FROM eclipse-temurin:17-jdk-jammy

WORKDIR /workspace

# Install system dependencies
# We need python3 for any potential internal logic, git for patching, and basic tools
RUN apt-get update && apt-get install -y \
    python3 \
    python3-pip \
    git \
    curl \
    wget \
    unzip \
    && rm -rf /var/lib/apt/lists/*

# Install Gradle (optional: projects usually use wrapper, but good to have fallback)
ENV GRADLE_VERSION=8.5
RUN wget -q https://services.gradle.org/distributions/gradle-${GRADLE_VERSION}-bin.zip -P /tmp \
    && unzip -d /opt/gradle /tmp/gradle-${GRADLE_VERSION}-bin.zip \
    && ln -s /opt/gradle/gradle-${GRADLE_VERSION}/bin/gradle /usr/bin/gradle \
    && rm /tmp/gradle-${GRADLE_VERSION}-bin.zip

# Environment setup
ENV JAVA_HOME="/opt/java/openjdk"
ENV PATH="${JAVA_HOME}/bin:${PATH}"

CMD ["/bin/bash"]
